import"../chunks/CWj6FrbW.js";import{i as yr}from"../chunks/CbG8HViP.js";import{H as kr,m as de,I as wr,a as e,d as Me,aa as Ar,ac as Ir,ad as Ga,ae as da,af as ca,U as Be,aD as Rr,aE as Cr,ag as qa,Q as Fa,ah as Er,aF as va,aG as Xa,b as Pa,aH as Ta,ak as oe,aI as ja,$ as Ha,aJ as _a,aK as Sr,aL as Nr,aM as Vr,T as Lr,aN as ya,aO as Mr,aP as $r,V as Or,aQ as Gr,aR as Ka,ay as Pr,aS as Tr,aT as ka,aw as jr,aU as Yr,aV as zr,M as Br,aW as Wr,u as p,ax as Qa,v as Dr,x as R,as as Zr,au as L,A as k,B as Jr,at as Ur,C as n,F as d,E as t,s as U,aX as ua,z as W,aY as D,aA as Ya,y as Xe,G as H,aq as pa,aB as ba,aZ as qr,a_ as ga,aC as Fr}from"../chunks/pSduDCsX.js";import{i as q}from"../chunks/VoHhkht9.js";import{r as Le,s as F,a as Xr,b as Hr}from"../chunks/XgNYpWGa.js";import{p as Kr}from"../chunks/BJoB8nDn.js";function pe(r,s){return s}function Qr(r,s,i,c){for(var l=[],v=s.length,g=0;g<v;g++)Sr(s[g].e,l,!0);var E=v>0&&l.length===0&&i!==null;if(E){var ee=i.parentNode;Nr(ee),ee.append(i),c.clear(),_e(r,s[0].prev,s[v-1].next)}Vr(l,()=>{for(var B=0;B<v;B++){var j=s[B];E||(c.delete(j.k),_e(r,j.prev,j.next)),Lr(j.e,!E)}})}function se(r,s,i,c,l,v=null){var g=r,E={flags:s,items:new Map,first:null},ee=(s&Ka)!==0;if(ee){var B=r;g=de?da(Or(B)):B.appendChild(Gr())}de&&wr();var j=null,be=!1,w=Me(()=>{var O=i();return Ha(O)?O:O==null?[]:Xa(O)});kr(()=>{var O=e(w),y=O.length;if(be&&y===0)return;be=y===0;let ce=!1;if(de){var K=Ar(g)===Ir;K!==(y===0)&&(g=Ga(),da(g),ca(!1),ce=!0)}if(de){for(var ae=null,ne,Z=0;Z<y;Z++){if(Be.nodeType===Rr&&Be.data===Cr){g=Be,ce=!0,ca(!1);break}var A=O[Z],C=c(A,Z);ne=er(Be,E,ae,null,A,C,Z,l,s,i),E.items.set(C,ne),ae=ne}y>0&&da(Ga())}de||et(O,E,g,l,s,c,i),v!==null&&(y===0?j?qa(j):j=Fa(()=>v(g)):j!==null&&Er(j,()=>{j=null})),ce&&ca(!0),e(w)}),de&&(g=Be)}function et(r,s,i,c,l,v,g){var Ce,Ae,Ee,$e;var E=(l&Tr)!==0,ee=(l&(ya|_a))!==0,B=r.length,j=s.items,be=s.first,w=be,O,y=null,ce,K=[],ae=[],ne,Z,A,C;if(E)for(C=0;C<B;C+=1)ne=r[C],Z=v(ne,C),A=j.get(Z),A!==void 0&&((Ce=A.a)==null||Ce.measure(),(ce??(ce=new Set)).add(A));for(C=0;C<B;C+=1){if(ne=r[C],Z=v(ne,C),A=j.get(Z),A===void 0){var Ke=w?w.e.nodes_start:i;y=er(Ke,s,y,y===null?s.first:y.next,ne,Z,C,c,l,g),j.set(Z,y),K=[],ae=[],w=y.next;continue}if(ee&&at(A,ne,C,l),(A.e.f&va)!==0&&(qa(A.e),E&&((Ae=A.a)==null||Ae.unfix(),(ce??(ce=new Set)).delete(A))),A!==w){if(O!==void 0&&O.has(A)){if(K.length<ae.length){var Re=ae[0],ve;y=Re.prev;var Ze=K[0],ye=K[K.length-1];for(ve=0;ve<K.length;ve+=1)za(K[ve],Re,i);for(ve=0;ve<ae.length;ve+=1)O.delete(ae[ve]);_e(s,Ze.prev,ye.next),_e(s,y,Ze),_e(s,ye,Re),w=Re,y=ye,C-=1,K=[],ae=[]}else O.delete(A),za(A,w,i),_e(s,A.prev,A.next),_e(s,A,y===null?s.first:y.next),_e(s,y,A),y=A;continue}for(K=[],ae=[];w!==null&&w.k!==Z;)(w.e.f&va)===0&&(O??(O=new Set)).add(w),ae.push(w),w=w.next;if(w===null)continue;A=w}K.push(A),y=A,w=A.next}if(w!==null||O!==void 0){for(var ke=O===void 0?[]:Xa(O);w!==null;)(w.e.f&va)===0&&ke.push(w),w=w.next;var we=ke.length;if(we>0){var Qe=(l&Ka)!==0&&B===0?i:null;if(E){for(C=0;C<we;C+=1)(Ee=ke[C].a)==null||Ee.measure();for(C=0;C<we;C+=1)($e=ke[C].a)==null||$e.fix()}Qr(s,ke,Qe,j)}}E&&Pr(()=>{var Oe;if(ce!==void 0)for(A of ce)(Oe=A.a)==null||Oe.apply()}),Pa.first=s.first&&s.first.e,Pa.last=y&&y.e}function at(r,s,i,c){(c&ya)!==0&&Ta(r.v,s),(c&_a)!==0?Ta(r.i,i):r.i=i}function er(r,s,i,c,l,v,g,E,ee,B){var j=(ee&ya)!==0,be=(ee&Mr)===0,w=j?be?oe(l,!1,!1):ja(l):l,O=(ee&_a)===0?g:ja(g),y={i:O,v:w,k:v,a:null,e:null,prev:i,next:c};try{return y.e=Fa(()=>E(r,w,O,B),de),y.e.prev=i&&i.e,y.e.next=c&&c.e,i===null?s.first=y:(i.next=y,i.e.next=y.e),c!==null&&(c.prev=y,c.e.prev=y.e),y}finally{}}function za(r,s,i){for(var c=r.next?r.next.e.nodes_start:i,l=s?s.e.nodes_start:i,v=r.e.nodes_start;v!==c;){var g=$r(v);l.before(v),v=g}}function _e(r,s,i){s===null?r.first=i:(s.next=i,s.e.next=i&&i.e),i!==null&&(i.prev=s,i.e.prev=s&&s.e)}function rt(r,s,i){var c=r==null?"":""+r;return c===""?null:c}function We(r,s,i,c,l,v){var g=r.__className;if(de||g!==i||g===void 0){var E=rt(i);(!de||E!==r.getAttribute("class"))&&(E==null?r.removeAttribute("class"):s?r.className=E:r.setAttribute("class",E)),r.__className=i}return v}function ar(r,s,i=!1){if(r.multiple){if(s==null)return;if(!Ha(s))return Yr();for(var c of r.options)c.selected=s.includes(De(c));return}for(c of r.options){var l=De(c);if(zr(l,s)){c.selected=!0;return}}(!i||s!==void 0)&&(r.selectedIndex=-1)}function tt(r){var s=new MutationObserver(()=>{ar(r,r.__value)});s.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Br(()=>{s.disconnect()})}function Ba(r,s,i=s){var c=!0;ka(r,"change",l=>{var v=l?"[selected]":":checked",g;if(r.multiple)g=[].map.call(r.querySelectorAll(v),De);else{var E=r.querySelector(v)??r.querySelector("option:not([disabled])");g=E&&De(E)}i(g)}),jr(()=>{var l=s();if(ar(r,l,c),c&&l===void 0){var v=r.querySelector(":checked");v!==null&&(l=De(v),i(l))}r.__value=l,c=!1}),tt(r)}function De(r){return"__value"in r?r.__value:r.value}function Wa(r,s,i=s){var c=Wr();ka(r,"input",l=>{var v=l?r.defaultValue:r.value;if(v=fa(r)?ma(v):v,i(v),c&&v!==(v=s())){var g=r.selectionStart,E=r.selectionEnd;r.value=v??"",E!==null&&(r.selectionStart=g,r.selectionEnd=Math.min(E,r.value.length))}}),(de&&r.defaultValue!==r.value||p(s)==null&&r.value)&&i(fa(r)?ma(r.value):r.value),Qa(()=>{var l=s();fa(r)&&l===ma(r.value)||r.type==="date"&&!l&&!r.value||l!==r.value&&(r.value=l??"")})}function Da(r,s,i=s){ka(r,"change",c=>{var l=c?r.defaultChecked:r.checked;i(l)}),(de&&r.defaultChecked!==r.checked||p(s)==null)&&i(r.checked),Qa(()=>{var c=s();r.checked=!!c})}function fa(r){var s=r.type;return s==="number"||s==="range"}function ma(r){return r===""?null:+r}function st(r){return function(...s){var i=s[0];return i.preventDefault(),r==null?void 0:r.apply(this,s)}}const xa={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_PROXY_ENDPOINT:"/api/proxy",VITE_K3S_SERVER_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IlFTb1dDanhtS0dUSkpLcV9GdWhjS0JaR0x1aXpLMGFDSVZSZkkydzBGRDQifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6InJiYWMtY3JlYXRvci10b2tlbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJyYmFjLWNyZWF0b3IiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiJjMjc0MGI0Ni1mNDE3LTQ1ZTMtYjc5MC1hOTY2MTYyNmRhMDQiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6ZGVmYXVsdDpyYmFjLWNyZWF0b3IifQ.PZ2tHlbo5T3_WReiJu_Ey5VmCZ1Mt6W72uleZqoDld2GhDZ_c-O0VqCjLi0JG15aB4p2PGANkbc0PXapaTtU7odiltTlpGig6zWEkPvoPPK9Nf3LwKF0L6roiegwdFWKmntE-ZJJ1RKeqzhv45J1zmukW_n1dI5iltcPpvJFfVxb12Imkm7A5LKLx7MXgdNLgw8mE0nLdH30XeXVuBUrTfAdl4Ke_r-LCSRA1wVtqUV7NVwA3qx2fE11nu4aHsRAf5TwpO3wKg_jF30RtsnUt_4oTxC_K9zyJkMEGVBIn_0E6z6HIH3q_8IBBXWI7JHCUF58a7KelaaNkRFpzi6eKQ"};function nt(r){if(typeof import.meta<"u"&&xa){const s=xa[r];if(s!==void 0)return s;const i=xa[`VITE_${r}`];if(i!==void 0)return i}}const it=!1,lt=async()=>({roleApiVersion:nt("ROLE_APIVERSION")}),Jt=Object.freeze(Object.defineProperty({__proto__:null,load:lt,prerender:it},Symbol.toStringTag,{value:"Module"})),ot=["*","","apps","batch","extensions","networking.k8s.io","rbac.authorization.k8s.io","storage.k8s.io","apiextensions.k8s.io","policy"],dt=["*","pods","deployments","services","configmaps","secrets","namespaces","persistentvolumes","persistentvolumeclaims","nodes","ingresses","jobs","cronjobs","statefulsets","daemonsets","replicasets","componentstatuses","endpoints","horizontalpodautoscalers","limitranges","resourcequotas","replicationcontrollers","serviceaccounts","events"],ct=["get","list","watch","create","update","patch","delete","*"],Za={readonly:{name:"Read Only Resources",values:["configmaps","endpoints","persistentvolumeclaims","pods","secrets","replicasets","replicationcontrollers","serviceaccounts","services"]},"full-access":{name:"Full Access Resources",values:["componentstatuses","configmaps","daemonsets","deployments","events","endpoints","horizontalpodautoscalers","ingress","jobs","limitranges","pods","resourcequotas","replicasets","replicationcontrollers"]}},Ja={readonly:{name:"Read Only Verbs",values:["get","list","watch"]},readwrite:{name:"Read/Write Verbs",values:["get","list","watch","create","update","patch","delete"]}},Ua={core:{name:"Core API Groups",values:["","apps","batch"]},rbac:{name:"RBAC & Security",values:["rbac.authorization.k8s.io","policy"]},infrastructure:{name:"Infrastructure & Storage",values:["networking.k8s.io","storage.k8s.io","extensions"]}},He={ROLE_APIVERSION:"rbac.authorization.k8s.io/v1",ROLE_KIND:"Role",ROLE_BINDING_API_VERSION:"rbac.authorization.k8s.io/v1",ROLE_BINDING_KIND:"RoleBinding",SERVICE_ACCOUNT_APIVERSION:"v1",SERVICE_ACCOUNT_KIND:"ServiceAccount"};function ha(r){if(r in He)return He[r];const s=r.replace(/^VITE_/,"");if(s in He)return He[s]}var vt=R('<div class="flex items-end md:pb-2"><button type="button" class="text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div>'),ut=R(`<div class="flex flex-col md:flex-row gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700"><div class="flex-grow"><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Namespace Name</label> <div class="flex space-x-4"><div class="flex-grow"><input type="text" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white" placeholder="my-namespace" required/></div> <div class="flex items-center"><label class="inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div> <span class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300">Create Namespace</span></label></div></div></div> <!></div>`),pt=R("<option> </option>"),bt=R('<div class="flex flex-col md:flex-row gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700"><div class="flex-grow"><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Service Account Name</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white" placeholder="service-account-name" required/></div> <div class="flex-grow"><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Namespace</label> <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white" required><option disabled>Select a namespace</option><!></select></div> <div class="flex items-end"><button type="button" class="px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 transition-colors" aria-label="Remove service account"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></button></div></div>'),gt=R('<button type="button" class="px-3 py-1.5 text-sm font-medium rounded-full border border-green-500 bg-green-100 text-green-800 dark:bg-green-900 dark:border-green-600 dark:text-green-200 hover:bg-green-200 dark:hover:bg-green-800"> </button>'),ft=R(`<div class="mb-6 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700"><h3 class="text-lg font-medium mb-2 text-gray-800 dark:text-gray-200">Role Templates</h3> <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Create a new role based on an existing template:</p> <div class="flex flex-wrap gap-2"></div> <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">Using a template will copy all permissions but you'll need to select a namespace and service accounts.</p></div>`),mt=R("<option> </option>"),xt=R('<button type="button" class="px-3 py-1.5 text-sm font-medium rounded-full border border-purple-500 bg-purple-100 text-purple-800 dark:bg-purple-900 dark:border-purple-600 dark:text-purple-200"> </button>'),ht=R('<button type="button"> </button>'),_t=R('<p class="text-red-500 text-xs mt-1">Please select at least one API Group</p>'),yt=R('<button type="button" class="px-3 py-1.5 text-sm font-medium rounded-full border border-purple-500 bg-purple-100 text-purple-800 dark:bg-purple-900 dark:border-purple-600 dark:text-purple-200"> </button>'),kt=R('<button type="button"> </button>'),wt=R('<p class="text-red-500 text-xs mt-1">Please select at least one Resource</p>'),At=R('<button type="button" class="px-3 py-1.5 text-sm font-medium rounded-full border border-purple-500 bg-purple-100 text-purple-800 dark:bg-purple-900 dark:border-purple-600 dark:text-purple-200"> </button>'),It=R('<button type="button"> </button>'),Rt=R('<p class="text-red-500 text-xs mt-1">Please select at least one Verb</p>'),Ct=R('<p class="text-amber-600 italic">No service accounts defined yet.</p>'),Et=R('<div role="checkbox" tabindex="0"><div class="flex items-center"><input type="checkbox" class="mr-2"/> <span><span class="dark:text-white"> </span></span></div></div>'),St=R('<p class="text-red-500 text-xs mt-1">Please select at least one Service Account</p>'),Nt=R('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2"></div> <!>',1),Vt=R('<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Role Name</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white" placeholder="viewer-role" required/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Namespace</label> <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white" required><option disabled>Select a namespace</option><!></select></div></div> <div class="mb-4"><div class="flex items-center"><input type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"/> <label class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-200">Generate comments in YAML</label></div></div> <div class="space-y-6 mb-6"><div><div class="flex items-center mb-2"><label class="text-sm font-medium text-gray-700 dark:text-gray-200">API Groups <span class="text-gray-500 dark:text-gray-400 text-xs">(select multiple)</span></label> <button type="button" class="ml-2 text-red-500 hover:text-red-700" title="Clear all selected API groups"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex flex-wrap gap-2 mb-2"></div> <div class="flex flex-wrap gap-2"></div> <!></div> <div><div class="flex items-center mb-2"><label class="text-sm font-medium text-gray-700 dark:text-gray-200">Resources <span class="text-gray-500 dark:text-gray-400 text-xs">(select multiple)</span></label> <button type="button" class="ml-2 text-red-500 hover:text-red-700" title="Clear all selected resources"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex flex-wrap gap-2 mb-2"></div> <div class="flex flex-wrap gap-2"></div> <!></div> <div><div class="flex items-center mb-2"><label class="text-sm font-medium text-gray-700 dark:text-gray-200">Verbs <span class="text-gray-500 dark:text-gray-400 text-xs">(select multiple)</span></label> <button type="button" class="ml-2 text-red-500 hover:text-red-700" title="Clear all selected verbs"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex flex-wrap gap-2 mb-2"></div> <div class="flex flex-wrap gap-2"></div> <!></div></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2">Associated Service Accounts <span class="text-gray-500 dark:text-gray-400 text-xs">(select multiple)</span></label> <!></div>',1),Lt=R('<div class="p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700"><div class="flex justify-between items-center mb-4"><div class="flex items-center"><button type="button" class="mr-2 focus:outline-none transition-transform duration-200 ease-in-out"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button> <h3 class="text-lg font-medium text-gray-900 dark:text-white"> </h3></div> <button type="button" class="px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></button></div> <!></div>'),Mt=R('<span class="inline-block animate-spin mr-2">⏳</span> Applying to Cluster...',1),$t=R('<a class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 transition-colors">Download Kubeconfig</a>'),Ot=R('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 dark:bg-red-900 dark:border-red-700 dark:text-red-100"><p><strong>Error:</strong> </p></div>'),Gt=R('<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 dark:bg-green-900 dark:border-green-700 dark:text-green-100"><p><strong>Success:</strong> RBAC resources have been applied to the cluster!</p></div>'),Pt=R('<div class="mt-6 pt-6 border-t border-gray-300 dark:border-gray-600"><h3 class="text-lg font-medium mb-2 text-gray-900 dark:text-white">Generated Kubeconfig</h3> <pre class="bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-x-auto text-xs"></pre></div>'),Tt=R('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] overflow-y-auto m-4"><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-bold text-gray-900 dark:text-white">YAML Preview</h2> <button class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex justify-between items-center mb-6"><button class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-green-400 dark:bg-green-500 dark:hover:bg-green-600 transition-colors flex items-center"><!></button> <!></div> <!> <!> <div class="space-y-6"><div><h3 class="text-lg font-medium mb-2 text-gray-900 dark:text-white">Namespaces</h3> <pre class="bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-x-auto text-xs"> </pre></div> <div><h3 class="text-lg font-medium mb-2 text-gray-900 dark:text-white">Service Accounts</h3> <pre class="bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-x-auto text-xs"> </pre></div> <div><h3 class="text-lg font-medium mb-2 text-gray-900 dark:text-white">Roles</h3> <pre class="bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-x-auto text-xs"> </pre></div> <div><h3 class="text-lg font-medium mb-2 text-gray-900 dark:text-white">Role Bindings</h3> <pre class="bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-x-auto text-xs"> </pre></div></div> <!> <div class="text-center mt-6"><button class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700 transition-colors">Close Preview</button></div></div></div>'),jt=R('<div class="container mx-auto p-4"><h1 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">RBAC Manifest Generator</h1> <form class="space-y-8"><div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-6"><h2 class="text-xl font-semibold mb-4 text-gray-900 dark:text-white">Namespace Configuration</h2> <p class="text-gray-600 dark:text-gray-300 mb-6">Add namespaces that will be created as part of your Kubernetes manifest.</p> <div class="space-y-4"><!> <div class="flex justify-center"><button type="button" class="px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"></path></svg> Add Namespace</button></div></div></div> <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-6"><h2 class="text-xl font-semibold mb-4 text-gray-900 dark:text-white">Service Account Configuration</h2> <p class="text-gray-600 dark:text-gray-300 mb-6">Add service account details to include in your kubeconfig file.</p> <div class="space-y-4"><!> <div class="flex justify-center"><button type="button" class="px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"></path></svg> Add Service Account</button></div></div></div> <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-6"><h2 class="text-xl font-semibold mb-4 text-gray-900 dark:text-white">RBAC Role Configuration</h2> <p class="text-gray-600 dark:text-gray-300 mb-6">Define role-based access control permissions for your service accounts.</p> <!> <div class="space-y-8"><!> <div class="flex justify-center"><button type="button" class="px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"></path></svg> Add Role</button></div></div></div> <div class="mt-8 flex gap-4"><button type="button" class="flex-1 px-4 py-3 bg-blue-600 dark:bg-blue-500 text-white font-medium rounded-md hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors">Download Manifest</button></div></form> <!></div>');function Ut(r,s){Dr(s,!1),Kr(s,"data",8);let i=oe([{id:1,name:""}]),c=oe([{id:1,name:"",namespace:""}]),l=oe([{id:1,name:"",namespace:"",apiGroups:[],resources:[],verbs:[],serviceAccountIds:[],generateComments:!0}]),v=oe({}),g=oe(new Set),E="kubernetes",ee="https://kubernetes.default.svc",B=oe(!1),j=oe(""),be=oe(""),w=oe(""),O=oe("");const y=ot,ce=dt,K=ct;function ae(){const o=[];let a=[],b=[],f=[],N=[];e(i).filter(u=>u.name).forEach(u=>{if(u.create){const G=`apiVersion: v1
kind: Namespace
metadata:
  name: ${u.name}`;a.push(G),o.push(G),o.push("---")}}),e(c).filter(u=>u.name&&u.namespace).forEach((u,G)=>{const x=`apiVersion: ${ha("SERVICE_ACCOUNT_APIVERSION")||"v1"}
kind: ServiceAccount
metadata:
  name: ${u.name}
  namespace: ${u.namespace||"default"}`;b.push(x),o.push(x),o.push("---")});const J=e(l).filter(u=>u.name&&u.namespace&&u.apiGroups.length>0&&u.resources.length>0&&u.verbs.length>0);return J.forEach((u,G)=>{let x="";u.generateComments&&(x+=`# Create a role for ${u.name} in ${u.namespace} namespace
`),x+=`apiVersion: ${ha("ROLE_APIVERSION")||"rbac.authorization.k8s.io/v1"}
kind: Role
metadata:
  name: ${u.name}
  namespace: ${u.namespace||"default"}
rules:
`;const ue=u.apiGroups.includes("*")?'["*"]':`["${u.apiGroups.join('", "')}"]`,le=u.resources.includes("*")?'["*"]':`["${u.resources.join('", "')}"]`,Q=u.verbs.includes("*")?'["*"]':`["${u.verbs.join('", "')}"]`;x+=`- apiGroups: ${ue}
  resources: ${le}
  verbs: ${Q}`,f.push(x),o.push(x),o.push("---"),u.serviceAccountIds.length>0&&e(c).filter(S=>u.serviceAccountIds.includes(S.id)).forEach((S,re)=>{if(S.name&&S.namespace){let te="";u.generateComments&&(te=`# Bind the ${u.name} role in ${u.namespace} namespace to ${S.name} service account
`),te+=`apiVersion: ${ha("ROLE_BINDING_API_VERSION")||"rbac.authorization.k8s.io/v1"}
kind: RoleBinding
metadata:
  name: ${u.name}-${S.name}-binding
  namespace: ${u.namespace||"default"}
subjects:
- kind: ServiceAccount
  name: ${S.name}
  namespace: ${S.namespace||"default"}
roleRef:
  kind: Role
  name: ${u.name}
  apiGroup: rbac.authorization.k8s.io`,o.push(te),N.push(te)}}),G<J.length-1&&o.push("---")}),U(j,a.join(`
---
`)),U(be,b.join(`
---
`)),U(w,f.join(`
---
`)),U(O,N.join(`
---
`)),o.join(`
`)}function ne(){const o=e(i).filter(x=>x.name);if(o.length===0){alert("Please add at least one valid namespace");return}const a=e(c).filter(x=>x.name&&x.namespace);if(a.length===0){alert("Please add at least one valid service account entry");return}const b=e(l).filter(x=>x.name&&x.namespace&&x.apiGroups.length>0&&x.resources.length>0&&x.verbs.length>0&&x.serviceAccountIds.length>0);if(b.length===0){alert("Please configure at least one valid role with all required fields and associated service accounts");return}const f=new Set(o.map(x=>x.name)),N=a.filter(x=>!f.has(x.namespace)),_=b.filter(x=>!f.has(x.namespace));if(N.length>0||_.length>0){alert("Some service accounts or roles reference namespaces that have not been defined. Please fix before downloading.");return}const M=ae(),J=new Blob([M],{type:"text/yaml"}),u=URL.createObjectURL(J),G=document.createElement("a");G.href=u,G.download="kubernetes-manifest.yaml",document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(u)}function Z(){const o=e(c).length>0?Math.max(...e(c).map(a=>a.id))+1:1;U(c,[...e(c),{id:o,name:"",namespace:""}])}function A(o){U(l,e(l).map(a=>({...a,serviceAccountIds:a.serviceAccountIds.filter(b=>b!==o)}))),U(c,e(c).filter(a=>a.id!==o)),e(c).length===0&&Z()}function C(o=""){let b={id:e(l).length>0?Math.max(...e(l).map(f=>f.id))+1:1,name:o,namespace:"",apiGroups:[],resources:[],verbs:[],serviceAccountIds:[],generateComments:!1};if(o&&e(v)[o]&&e(v)[o].length>0){const f=e(v)[o][0];b={...b,apiGroups:[...f.apiGroups],resources:[...f.resources],verbs:[...f.verbs],generateComments:f.generateComments}}U(l,[...e(l),b])}function Ke(o){const a=e(l).find(b=>b.id===o);if(a&&a.name&&e(v)[a.name]){const b=e(v)[a.name].findIndex(f=>f.id===o);b>=0&&e(v)[a.name].splice(b,1),e(v)[a.name].length===0&&delete e(v)[a.name]}U(l,e(l).filter(b=>b.id!==o)),e(l).length===0&&C()}function Re(){U(i,[...e(i),{id:Date.now().toString(),name:"",create:!0}])}function ve(o){U(i,e(i).filter(a=>a.id!==o))}function Ze(o,a){const b=o.name;if(b&&e(v)[b]){const f=e(v)[b].findIndex(N=>N.id===o.id);f>=0&&e(v)[b].splice(f,1),e(v)[b].length===0&&delete e(v)[b]}o.name=a,a&&(e(v)[a]||qr(v,e(v)[a]=[]),e(v)[a].some(N=>N.id===o.id)||e(v)[a].push(o))}function ye(o,a){return o.includes(a)?o.filter(b=>b!==a):[...o,a]}function ke(o){e(g).has(o)?e(g).delete(o):e(g).add(o),U(g,new Set(e(g)))}function we(o,a){U(l,e(l).map(b=>b.id===o?{...b,serviceAccountIds:b.serviceAccountIds.includes(a)?b.serviceAccountIds.filter(f=>f!==a):[...b.serviceAccountIds,a]}:b))}async function Qe(){if(e(i).filter(_=>_.name).length===0){alert("Please add at least one valid namespace");return}if(e(c).filter(_=>_.name&&_.namespace).length===0){alert("Please add at least one valid service account entry");return}const b=e(l).filter(_=>_.name&&_.namespace&&_.apiGroups.length>0&&_.resources.length>0&&_.verbs.length>0&&_.serviceAccountIds.length>0);if(b.length===0){alert("Please configure at least one valid role with all required fields and associated service accounts");return}const f=new Set(e(c).map(_=>_.id));if(b.filter(_=>_.serviceAccountIds.some(M=>!f.has(M))).length>0){alert("Some roles reference non-existent service accounts. Please fix before submitting.");return}if(!E.trim()){alert("Please enter a cluster name");return}if(!ee.trim()||!ee.startsWith("http")){alert("Please enter a valid server URL (starting with http:// or https://)");return}U(B,!0)}yr();var Ce=jt();Zr(o=>{Ur.title="RBAC Manifest Generator - Configuration"});var Ae=d(n(Ce),2),Ee=n(Ae),$e=d(n(Ee),4),Oe=n($e);se(Oe,1,()=>e(i),o=>o.id,(o,a,b)=>{var f=ut(),N=n(f),_=n(N),M=d(_,2),J=n(M),u=n(J);Le(u),t(J);var G=d(J,2),x=n(G),ue=n(x);Le(ue),ua(4),t(x),t(G),t(M),t(N);var le=d(N,2);{var Q=P=>{var S=vt(),re=n(S);t(S),L("click",re,()=>ve(e(a).id)),k(P,S)};q(le,P=>{e(i),p(()=>e(i).length>1)&&P(Q)})}t(f),W(()=>{F(_,"for",(e(a),p(()=>`namespace-name-${e(a).id}`))),F(u,"id",(e(a),p(()=>`namespace-name-${e(a).id}`)))}),Wa(u,()=>e(a).name,P=>(e(a).name=P,D(()=>e(i)))),Da(ue,()=>e(a).create,P=>(e(a).create=P,D(()=>e(i)))),k(o,f)});var wa=d(Oe,2),rr=n(wa);t(wa),t($e),t(Ee);var ea=d(Ee,2),Aa=d(n(ea),4),Ia=n(Aa);se(Ia,1,()=>e(c),o=>o.id,(o,a,b)=>{var f=bt(),N=n(f),_=n(N),M=d(_,2);Le(M),t(N);var J=d(N,2),u=n(J),G=d(u,2);W(()=>{e(a),D(()=>{e(i)})});var x=n(G);x.value=x.__value="";var ue=d(x);se(ue,1,()=>e(i),pe,(P,S)=>{var re=Ya(),te=Xe(re);{var ge=xe=>{var ie=pt(),fe=n(ie,!0);t(ie);var he={};W(()=>{H(fe,(e(S),p(()=>e(S).name))),he!==(he=(e(S),p(()=>e(S).name)))&&(ie.value=(ie.__value=(e(S),p(()=>e(S).name)))??"")}),k(xe,ie)};q(te,xe=>{e(S),p(()=>e(S).name)&&xe(ge)})}k(P,re)}),t(G),t(J);var le=d(J,2),Q=n(le);t(le),t(f),W(()=>{F(_,"for",(e(a),p(()=>`name-${e(a).id}`))),F(M,"id",(e(a),p(()=>`name-${e(a).id}`))),F(u,"for",(e(a),p(()=>`namespace-${e(a).id}`))),F(G,"id",(e(a),p(()=>`namespace-${e(a).id}`))),Q.disabled=(e(c),p(()=>e(c).length===1))}),Wa(M,()=>e(a).name,P=>(e(a).name=P,D(()=>e(c)))),Ba(G,()=>e(a).namespace,P=>(e(a).namespace=P,D(()=>e(c)))),L("click",Q,()=>A(e(a).id)),k(o,f)});var Ra=d(Ia,2),tr=n(Ra);t(Ra),t(Aa),t(ea);var aa=d(ea,2),Ca=d(n(aa),4);{var sr=o=>{var a=ft(),b=d(n(a),4);se(b,5,()=>(e(v),p(()=>Object.keys(e(v)))),pe,(f,N)=>{var _=gt(),M=n(_);t(_),W(()=>H(M,`Use "${e(N)??""}" Template`)),L("click",_,()=>C(e(N))),k(f,_)}),t(b),ua(2),t(a),k(o,a)};q(Ca,o=>{e(v),p(()=>Object.keys(e(v)).length>0)&&o(sr)})}var Ea=d(Ca,2),Sa=n(Ea);se(Sa,1,()=>e(l),o=>o.id,(o,a,b)=>{var f=Lt(),N=n(f),_=n(N),M=n(_),J=n(M);t(M);var u=d(M,2),G=n(u);t(u),t(_);var x=d(_,2);t(N);var ue=d(N,2);{var le=Q=>{var P=Vt(),S=Xe(P),re=n(S),te=n(re),ge=d(te,2);Le(ge),t(re);var xe=d(re,2),ie=n(xe),fe=d(ie,2);W(()=>{e(a),D(()=>{e(i)})});var he=n(fe);he.value=he.__value="";var Ge=d(he);se(Ge,1,()=>e(i),pe,(h,m)=>{var I=Ya(),Y=Xe(I);{var $=X=>{var T=mt(),me=n(T,!0);t(T);var ze={};W(()=>{H(me,(e(m),p(()=>e(m).name))),ze!==(ze=(e(m),p(()=>e(m).name)))&&(T.value=(T.__value=(e(m),p(()=>e(m).name)))??"")}),k(X,T)};q(Y,X=>{e(m),p(()=>e(m).name)&&X($)})}k(h,I)}),t(fe),t(xe),t(S);var Se=d(S,2),Je=n(Se),Ie=n(Je);Le(Ie);var Ue=d(Ie,2);t(Je),t(Se);var Pe=d(Se,2),Ne=n(Pe),Te=n(Ne),qe=d(n(Te),2);t(Te);var je=d(Te,2);se(je,5,()=>(pa(Ua),p(()=>Object.entries(Ua))),pe,(h,m)=>{var I=ba(()=>ga(e(m),2));let Y=()=>e(I)[1];var $=xt(),X=n($,!0);t($),W(()=>H(X,(Y(),p(()=>Y().name)))),L("click",$,()=>(e(a).apiGroups=[...Y().values],D(()=>e(l)))),k(h,$)}),t(je);var V=d(je,2);se(V,5,()=>y,pe,(h,m)=>{var I=ht(),Y=n(I,!0);t(I),W($=>{We(I,1,$),H(Y,e(m)||'""')},[()=>(e(a),e(m),p(()=>`px-3 py-1.5 text-sm rounded-full border ${e(a).apiGroups.includes(e(m))?"bg-blue-100 border-blue-500 text-blue-800 dark:bg-blue-900 dark:border-blue-600 dark:text-blue-200":"bg-gray-50 border-gray-300 text-gray-800 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}`))],Me),L("click",I,()=>(e(a).apiGroups=ye(e(a).apiGroups,e(m)),D(()=>e(l)))),k(h,I)}),t(V);var z=d(V,2);{var Ve=h=>{var m=_t();k(h,m)};q(z,h=>{e(a),p(()=>e(a).apiGroups.length===0)&&h(Ve)})}t(Ne);var Ye=d(Ne,2),ra=n(Ye),dr=d(n(ra),2);t(ra);var ta=d(ra,2);se(ta,5,()=>(pa(Za),p(()=>Object.entries(Za))),pe,(h,m)=>{var I=ba(()=>ga(e(m),2));let Y=()=>e(I)[1];var $=yt(),X=n($,!0);t($),W(()=>H(X,(Y(),p(()=>Y().name)))),L("click",$,()=>(e(a).resources=[...Y().values],D(()=>e(l)))),k(h,$)}),t(ta);var sa=d(ta,2);se(sa,5,()=>ce,pe,(h,m)=>{var I=kt(),Y=n(I,!0);t(I),W($=>{We(I,1,$),H(Y,e(m)||'""')},[()=>(e(a),e(m),p(()=>`px-3 py-1.5 text-sm rounded-full border ${e(a).resources.includes(e(m))?"bg-blue-100 border-blue-500 text-blue-800 dark:bg-blue-900 dark:border-blue-600 dark:text-blue-200":"bg-gray-50 border-gray-300 text-gray-800 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}`))],Me),L("click",I,()=>(e(a).resources=ye(e(a).resources,e(m)),D(()=>e(l)))),k(h,I)}),t(sa);var cr=d(sa,2);{var vr=h=>{var m=wt();k(h,m)};q(cr,h=>{e(a),p(()=>e(a).resources.length===0)&&h(vr)})}t(Ye);var La=d(Ye,2),na=n(La),ur=d(n(na),2);t(na);var ia=d(na,2);se(ia,5,()=>(pa(Ja),p(()=>Object.entries(Ja))),pe,(h,m)=>{var I=ba(()=>ga(e(m),2));let Y=()=>e(I)[1];var $=At(),X=n($,!0);t($),W(()=>H(X,(Y(),p(()=>Y().name)))),L("click",$,()=>(e(a).verbs=[...Y().values],D(()=>e(l)))),k(h,$)}),t(ia);var la=d(ia,2);se(la,5,()=>K,pe,(h,m)=>{var I=It(),Y=n(I,!0);t(I),W($=>{We(I,1,$),H(Y,e(m))},[()=>(e(a),e(m),p(()=>`px-3 py-1.5 text-sm rounded-full border ${e(a).verbs.includes(e(m))?"bg-blue-100 border-blue-500 text-blue-800 dark:bg-blue-900 dark:border-blue-600 dark:text-blue-200":"bg-gray-50 border-gray-300 text-gray-800 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}`))],Me),L("click",I,()=>(e(a).verbs=ye(e(a).verbs,e(m)),D(()=>e(l)))),k(h,I)}),t(la);var pr=d(la,2);{var br=h=>{var m=Rt();k(h,m)};q(pr,h=>{e(a),p(()=>e(a).verbs.length===0)&&h(br)})}t(La),t(Pe);var Ma=d(Pe,2),gr=d(n(Ma),2);{var fr=h=>{var m=Ct();k(h,m)},mr=h=>{var m=Nt(),I=Xe(m);se(I,5,()=>e(c),pe,(X,T)=>{var me=Et(),ze=n(me),Fe=n(ze);Le(Fe);var $a=d(Fe,2),Oa=n($a),xr=n(Oa);t(Oa),t($a),t(ze),t(me),W((oa,hr,_r)=>{We(me,1,oa),F(me,"aria-checked",hr),Hr(Fe,_r),H(xr,`${e(T),p(()=>e(T).name||"[Unnamed]")??""} ${e(T),p(()=>e(T).namespace?`(${e(T).namespace})`:"")??""}`)},[()=>(e(a),e(T),p(()=>`p-2 border rounded-md cursor-pointer ${e(a).serviceAccountIds.includes(e(T).id)?"bg-blue-100 border-blue-500 dark:bg-blue-900 dark:border-blue-600":"bg-gray-50 border-gray-300 dark:bg-gray-800 dark:border-gray-600"}`)),()=>(e(a),e(T),p(()=>e(a).serviceAccountIds.includes(e(T).id))),()=>(e(a),e(T),p(()=>e(a).serviceAccountIds.includes(e(T).id)))],Me),L("change",Fe,()=>we(e(a).id,e(T).id)),L("click",me,()=>we(e(a).id,e(T).id)),L("keypress",me,oa=>oa.key==="Enter"&&we(e(a).id,e(T).id)),k(X,me)}),t(I);var Y=d(I,2);{var $=X=>{var T=St();k(X,T)};q(Y,X=>{e(a),p(()=>e(a).serviceAccountIds.length===0)&&X($)})}k(h,m)};q(gr,h=>{e(c),p(()=>e(c).length===0)?h(fr):h(mr,!1)})}t(Ma),W(()=>{F(te,"for",(e(a),p(()=>`role-name-${e(a).id}`))),F(ge,"id",(e(a),p(()=>`role-name-${e(a).id}`))),Xr(ge,(e(a),p(()=>e(a).name))),F(ie,"for",(e(a),p(()=>`role-namespace-${e(a).id}`))),F(fe,"id",(e(a),p(()=>`role-namespace-${e(a).id}`))),F(Ie,"id",(e(a),p(()=>`generate-comments-${e(a).id}`))),F(Ue,"for",(e(a),p(()=>`generate-comments-${e(a).id}`)))}),L("input",ge,h=>Ze(e(a),h.target.value)),Ba(fe,()=>e(a).namespace,h=>(e(a).namespace=h,D(()=>e(l)))),Da(Ie,()=>e(a).generateComments,h=>(e(a).generateComments=h,D(()=>e(l)))),L("click",qe,()=>(e(a).apiGroups=[],D(()=>e(l)))),L("click",dr,()=>(e(a).resources=[],D(()=>e(l)))),L("click",ur,()=>(e(a).verbs=[],D(()=>e(l)))),k(Q,P)};q(ue,Q=>{e(g),e(a),p(()=>!e(g).has(e(a).id))&&Q(le)})}t(f),W((Q,P)=>{F(M,"aria-label",Q),We(J,0,`h-5 w-5 text-gray-500 dark:text-gray-400 transform transition-transform duration-200 ${P??""}`),H(G,`Role #${e(a),p(()=>e(a).id)??""}`),x.disabled=(e(l),p(()=>e(l).length===1))},[()=>(e(g),e(a),p(()=>e(g).has(e(a).id)?"Expand role":"Collapse role")),()=>(e(g),e(a),p(()=>e(g).has(e(a).id)?"-rotate-90":"rotate-0"))],Me),L("click",M,()=>ke(e(a).id)),L("click",x,()=>Ke(e(a).id)),k(o,f)});var Na=d(Sa,2),nr=n(Na);t(Na),t(Ea),t(aa);var Va=d(aa,2),ir=n(Va);t(Va),t(Ae);var lr=d(Ae,2);{var or=o=>{var a=Tt(),b=n(a),f=n(b),N=d(n(f),2);t(f);var _=d(f,2),M=n(_);M.disabled=isApplying;var J=n(M);{var u=V=>{var z=Mt();ua(),k(V,z)},G=V=>{var z=Fr("Apply to Cluster");k(V,z)};q(J,V=>{isApplying?V(u):V(G,!1)})}t(M);var x=d(M,2);{var ue=V=>{var z=$t();F(z,"href",`data:text/yaml;charset=utf-8,${encodeURIComponent(kubeconfig)}`),F(z,"download",kubeconfigDownloadName),k(V,z)};q(x,V=>{kubeconfig&&V(ue)})}t(_);var le=d(_,2);{var Q=V=>{var z=Ot(),Ve=n(z),Ye=d(n(Ve));Ye.nodeValue=` ${applyError??""}`,t(Ve),t(z),k(V,z)};q(le,V=>{applyError&&V(Q)})}var P=d(le,2);{var S=V=>{var z=Gt();k(V,z)};q(P,V=>{applySuccess&&V(S)})}var re=d(P,2),te=n(re),ge=d(n(te),2),xe=n(ge,!0);t(ge),t(te);var ie=d(te,2),fe=d(n(ie),2),he=n(fe,!0);t(fe),t(ie);var Ge=d(ie,2),Se=d(n(Ge),2),Je=n(Se,!0);t(Se),t(Ge);var Ie=d(Ge,2),Ue=d(n(Ie),2),Pe=n(Ue,!0);t(Ue),t(Ie),t(re);var Ne=d(re,2);{var Te=V=>{var z=Pt(),Ve=d(n(z),2);Ve.textContent=kubeconfig,t(z),k(V,z)};q(Ne,V=>{kubeconfig&&V(Te)})}var qe=d(Ne,2),je=n(qe);t(qe),t(b),t(a),W(()=>{H(xe,e(j)),H(he,e(be)),H(Je,e(w)),H(Pe,e(O))}),L("click",N,()=>U(B,!1)),L("click",M,applyToCluster),L("click",je,()=>U(B,!1)),k(o,a)};q(lr,o=>{e(B)&&o(or)})}t(Ce),L("click",rr,Re),L("click",tr,Z),L("click",nr,C),L("click",ir,ne),L("submit",Ae,st(Qe)),k(r,Ce),Jr()}export{Ut as component,Jt as universal};
